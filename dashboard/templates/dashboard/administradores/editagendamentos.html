{% extends './base.html' %}
{% load django_vite %}
{% load static %}

{% block head %}
  <title>Editar Agendamento</title>
{% endblock %}

{% block main %}
  <div class="container mx-auto px-4 py-6">
    <div class="breadcrumbs text-sm mb-4">
      <ul>
        <li>
          <a href="{% url 'dashboard:agenda_adm' %}">Agenda</a>
        </li>
        <li>Editar Agendamento</li>
      </ul>
    </div>

    <div class="bg-white rounded-lg shadow p-6">
      <h2 class="text-2xl font-semibold mb-6">Editar Agendamento</h2>

      <form method="post">
        {% csrf_token %}

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="flex flex-col gap-y-2 w-1/2">
            <label class="label"><span class="label-text">Paciente</span></label>
            {{ form.paciente }}
            {% if form.paciente.errors %}
            <div class="text-error">
              {% for error in form.paciente.errors %}
                <p>{{ error }}</p>
              {% endfor %}
            </div>
          {% endif %}
            <label class="label"><span class="label-text">Procedimentos</span></label>
            {{ form.procedimentos }}
            {% if form.procedimentos.errors %}
            <div class="text-error">
              {% for error in form.procedimentos.errors %}
                <p>{{ error }}</p>
              {% endfor %}
            </div>
          {% endif %}
            <label class="label"><span class="label-text">Convênio</span></label>
            {{ form.convenio }}
            {% if form.convenio.errors %}
            <div class="text-error">
              {% for error in form.convenio.errors %}
                <p>{{ error }}</p>
              {% endfor %}
            </div>
          {% endif %}
            <label class="label"><span class="label-text">Observações</span></label>
            {{ form.observacoes }}
            {% if form.observacoes.errors %}
            <div class="text-error">
              {% for error in form.observacoes.errors %}
                <p>{{ error }}</p>
              {% endfor %}
            </div>
          {% endif %}
          </div>
          <div class="flex flex-col gap-y-2 w-1/2">
            <label class="label"><span class="label-text">Médico</span></label>
            {{ form.medico }}
            <label class="label"><span class="label-text">Status</span></label>
            {{ form.status }}
            {% if form.status.errors %}
            <div class="text-error">
              {% for error in form.status.errors %}
                <p>{{ error }}</p>
              {% endfor %}
            </div>
          {% endif %}
            <label class="label"><span class="label-text">Data Início</span></label>
            {{ form.data_inicio }}
            {% if form.data_inicio.errors %}
            <div class="text-error">
              {% for error in form.data_inicio.errors %}
                <p>{{ error }}</p>
              {% endfor %}
            </div>
          {% endif %}
            <label class="label"><span class="label-text">Data Fim</span></label>
            {{ form.data_fim }}
            {% if form.data_fim.errors %}
            <div class="text-error">
              {% for error in form.data_fim.errors %}
                <p>{{ error }}</p>
              {% endfor %}
            </div>
          {% endif %}
          </div>
        </div>
        <div class="flex justify-end gap-4 mt-6">
          <a href="{% url 'dashboard:agenda_adm' %}" class="btn btn-ghost">Cancelar</a>
          <button type="submit" class="btn btn-primary">Salvar Alterações</button>
        </div>
      </form>
    </div>
  </div>
{% endblock %}
