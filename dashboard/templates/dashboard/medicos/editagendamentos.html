{% extends './base.html' %}
{% load static %}

{% block head %}
  <title>Editar Agendamento</title>
{% endblock %}

{% block main %}
  <div class="container mx-auto px-4 py-6">
    <div class="breadcrumbs text-sm mb-4">
      <ul>
        <li>
          <a href="{% url 'dashboard:agenda_med' %}">Agenda</a>
        </li>
        <li>Editar Agendamento</li>
      </ul>
    </div>

    <div class="bg-white rounded-lg shadow p-6">
      <h2 class="text-2xl font-semibold mb-6">Editar Agendamento</h2>

      <form method="post">
        {% csrf_token %}

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="flex flex-col gap-y-2 w-1/2">
            <label class="label"><span class="label-text">Paciente</span></label>
            {{ form.paciente }}

            <label class="label"><span class="label-text">Procedimentos</span></label>
            {{ form.procedimentos }}

            <label class="label"><span class="label-text">Convênio</span></label>
            {{ form.convenio }}

            <label class="label"><span class="label-text">Observações</span></label>
            {{ form.observacoes }}
          </div>
          <div class="flex flex-col gap-y-2 w-1/2">
            <label class="label"><span class="label-text">Status</span></label>
            {{ form.status }}

            <label class="label"><span class="label-text">Data Início</span></label>
            {{ form.data_inicio }}

            <label class="label"><span class="label-text">Data Fim</span></label>
            {{ form.data_fim }}
          </div>
        </div>
        <div class="flex justify-end gap-4 mt-6">
          <a href="{% url 'dashboard:agenda_med' %}" class="btn btn-ghost">Cancelar</a>
          <button type="submit" class="btn btn-primary">Salvar Alterações</button>
        </div>
      </form>
    </div>
  </div>

  {% if form.errors %}
    <div class="alert alert-error mt-4">
      <ul>
        {% for field in form %}
          {% for error in field.errors %}
            <li>{{ field.label }}: {{ error }}</li>
          {% endfor %}
        {% endfor %}
      </ul>
    </div>
  {% endif %}
{% endblock %}
